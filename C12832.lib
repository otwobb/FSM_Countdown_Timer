http://os.mbed.com/users/askksa12543/code/C12832/#990d5eec2ef6738058baf82c579a0ed07c8fc151